name: CI/CD Pipeline (Self-Hosted Runner)

on: [push]

jobs:
  build:
    runs-on: self-hosted
    steps:
      - uses: actions/checkout@v4
      - run: |
          echo "Этап BUILD выполняется на ВАШЕМ компьютере (self-hosted runner)"
          echo "Текущая директория: $PWD"
          dir

  test:
    runs-on: self-hosted
    needs: build
    steps:
      - uses: actions/checkout@v4
      - run: |
          echo "Этап TEST выполняется на ВАШЕМ компьютере"
          python --version || echo "Python не установлен"
          echo "Симуляция тестов..."

  deploy:
    runs-on: ubuntu-latest
    needs: test
    steps:
      - uses: actions/checkout@v4
      - run: echo "Этап DEPLOY выполняется на облачном раннере GitHub"
